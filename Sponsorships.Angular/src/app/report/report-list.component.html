<!-- START PAGE COVER -->
<div class="row bg-title clearfix page-title">
    <div class="col-12 col-lg-3">
        <h4 class="page-title">
            <i class="fa fa-file-text" aria-hidden="true"></i>
            Reports
        </h4>
    </div>
    <div class="col-12 col-lg-9">
        <div class="form-group">
            <select class="custom-select" id="years" name="years" (change)="onYearChange($event.target.value)">
                <option value="0" selected>--- Year ---</option>
                <option value="2020">2020</option>
                <option value="2019">2019</option>
                <option value="2018">2018</option>
            </select>
        </div>

    </div>
</div>
<!-- END PAGE COVER -->
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12 col-xl-12 m-b-10">
            <div class="bg-white padding-15 white-box h-100">
                <div class="card card-shadowless card-borderless">

                    <ul class="nav nav-tabs nav-tabs-linetriangle" id="tabLinetriangle" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="weekly-tab" data-toggle="tab" role="tab" href="#weekly" aria-controls="weekly" aria-expanded="true">
                                <span>Weekly</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="monthly-tab" data-toggle="tab" role="tab" href="#monthly" aria-controls="monthly" aria-expanded="false">
                                <span>Monthly</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="annual-tab" data-toggle="tab" role="tab" href="#annual" aria-controls="annual" aria-expanded="false">
                                <span>Annual</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="sponsor-tab" data-toggle="tab" role="tab" href="#sponsor" aria-controls="sponsor" aria-expanded="false">
                                <span>By Sponsor</span>
                            </a>
                        </li>
                    </ul>

                    <div class="tab-content" [ngBusy]="busyList">
                        <div role="tabpanel" class="tab-pane fade active show" id="weekly" aria-labelledby="weekly-tab" aria-expanded="true">
                            <div class="table-responsive">
                                <table class="table table-sm table-striped table-bordered data-table table-checkable"
                                       cellspacing="0"
                                       role="grid">
                                    <thead>
                                        <tr>
                                            <th class="text-left">Date</th>
                                            <th class="text-left"></th>
                                            <th class="text-left">Sponsor</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of items_weekly">
                                            <td class="text-left"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SabhaShortDate}}
                                            </td>
                                            <td style="white-space:nowrap;text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'"
                                                [innerHTML]="item.SponsorshipTypeIcon"></td>
                                            <td style="text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SponsorDetail}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="monthly" aria-labelledby="monthly-tab" aria-expanded="false">
                            <div class="table-responsive">
                                <table class="table table-sm table-striped table-bordered data-table table-checkable"
                                       cellspacing="0"
                                       role="grid">
                                    <thead>
                                        <tr>
                                            <th class="text-left">Month</th>
                                            <th class="text-left"></th>
                                            <th class="text-left">Sponsor</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of items_monthly">
                                            <td style="white-space:nowrap;text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SabhaDateMMMYY}}
                                            </td>
                                            <td style="white-space:nowrap;text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'"
                                                [innerHTML]="item.SponsorshipTypeIcon"></td>
                                            <td style="white-space:nowrap;text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SponsorDetail}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="annual" aria-labelledby="annual-tab" aria-expanded="false">
                            <div class="table-responsive">
                                <table class="table table-sm table-striped table-bordered data-table table-checkable"
                                       cellspacing="0"
                                       role="grid">
                                    <thead>
                                        <tr>
                                            <th class="text-left"></th>
                                            <th class="text-left">Sponsor</th>
                                            <th class="text-left">Year</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of items_annual">
                                            <td style="white-space:nowrap;text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'"
                                                [innerHTML]="item.SponsorshipTypeIcon"></td>
                                            <td style="text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SponsorDetail}}
                                            </td>
                                            <td style="text-align:left;"
                                                [style.text-decoration]=" item.IsDeleted==true ? 'line-through' : 'none'">
                                                {{item.SabhaDateYY}}
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane fade" id="sponsor" aria-labelledby="sponsor-tab" aria-expanded="false">
                            <div class="col-lg-12 mb-2" *ngFor="let item of items_by_sponsor">
                                <div class="card border-primary">
                                    <div class="card-header" style="padding:0.50rem">{{item.FullNameWithSpouseAndAddress}}</div>
                                    <div class="card-body" style="padding:0.50rem">
                                        <div class="table-responsive">
                                            <table class="table table-sm table-striped table-bordered data-table table-checkable"
                                                   cellspacing="0"
                                                   role="grid">
                                                <tbody>
                                                    <tr *ngFor="let sp of item.Sponsorships">
                                                        <td style="white-space:nowrap;text-align:left;width:100px">
                                                            {{sp.SponsorshipDateBasedOnType}}
                                                        </td>
                                                        <td style="white-space:nowrap;text-align:left;width:50px"
                                                            [innerHTML]="sp.SponsorshipTypeIcon"></td>
                                                        <td style="white-space:nowrap;text-align:left;">
                                                            {{sp.SponsorshipTypeName}}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<style>
    #tblReportBySponsor.table:not(.table-sm) tbody tr td, .table:not(.table-sm) tbody tr th {
        padding: 6px;
    }

    #tblReportBySponsor.table:not(.table-sm) thead tr th {
        padding: 6px;
    }
</style>